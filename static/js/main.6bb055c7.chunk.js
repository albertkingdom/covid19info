(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports={bk:"Cards_bk__3EfmG",cardContainer:"Cards_cardContainer__3SvqF"}},155:function(e,t,a){e.exports=a(276)},161:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(124),o=a.n(c),l=a(7),s=a.n(l),u=a(17),m=a(18),d=(a(161),a(125)),i=a.n(d),p=a(59),f=a(11),h=a(127),E=a(65),b=a(64),y=a.n(b);var v=e=>{console.log("cards props",e);const t=new Date(e.data.lastUpdate);return r.a.createElement(p.a,{className:i.a.cardContainer},r.a.createElement(h.a,null,r.a.createElement(E.a,{md:4},r.a.createElement(f.a,{className:"text-center my-2"},r.a.createElement(f.a.Header,null,e.country&&"Global"!==e.country?e.country:"\u5168\u7403","\u78ba\u8a3a\u4eba\u6578"),r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Text,null,r.a.createElement(y.a,{start:0,end:e.data.confirmed.value,separator:","}))),r.a.createElement(f.a.Footer,{className:"text-muted"},"\u66f4\u65b0\u6642\u9593:",t.toLocaleString()))),r.a.createElement(E.a,{md:4},r.a.createElement(f.a,{className:"text-center my-2"},r.a.createElement(f.a.Header,null,e.country&&"Global"!==e.country?e.country:"\u5168\u7403","\u5fa9\u539f\u4eba\u6578"),r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Text,null,r.a.createElement(y.a,{start:0,end:e.data.recovered.value,separator:","}))),r.a.createElement(f.a.Footer,{className:"text-muted"},"\u66f4\u65b0\u6642\u9593:",t.toLocaleString()))),r.a.createElement(E.a,{md:4},r.a.createElement(f.a,{className:"text-center my-2"},r.a.createElement(f.a.Header,null,e.country&&"Global"!==e.country?e.country:"\u5168\u7403","\u6b7b\u4ea1\u4eba\u6578"),r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Text,null,r.a.createElement(y.a,{start:0,end:e.data.deaths.value,separator:","}))),r.a.createElement(f.a.Footer,{className:"text-muted"},"\u66f4\u65b0\u6642\u9593:",t.toLocaleString())))))},g=a(66),x=a.n(g);const j="https://covid19.mathdro.id/api",O=function(){var e=Object(u.a)(s.a.mark(function e(t){var a,n,r,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=j,console.log("fetchdata country",t),t&&"Global"!==t&&(a="".concat(j,"/countries/").concat(t)),e.next=6,x.a.get(a);case 6:return n=e.sent,r=n.data,c={confirmed:r.confirmed,recovered:r.recovered,deaths:r.deaths,lastUpdate:r.lastUpdate},console.log("fetchData",c),e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(j,"/daily"));case 3:return t=e.sent,a=t.data,console.log("data_daily",a),n=a.map(e=>({confirmed:e.confirmed.total,deaths:e.deaths.total,date:e.reportDate})),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(j,"/countries"));case 3:return t=e.sent,a=t.data.countries,console.log(a),e.abrupt("return",a.map(e=>e.name));case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();var C=a(82);var N=({data:{confirmed:e,recovered:t,deaths:a},country:c})=>{const o=Object(n.useState)([]),l=Object(m.a)(o,2),d=l[0],i=l[1];Object(n.useEffect)(()=>{!function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,w();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);const f=0!==d.length?r.a.createElement(C.b,{data:{labels:d.map(e=>e.date),datasets:[{data:d.map(e=>e.confirmed),label:"Infected",borderColor:"grey",fill:!0,pointBackgroundColor:"grey"},{data:d.map(e=>e.deaths),label:"death",borderColor:"red",fill:!0,pointBackgroundColor:"red",backgroundColor:"#fc7272"}]}}):null,h=e?r.a.createElement(C.a,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 0, 0, 0.5)"],data:[e.value,t.value,a.value]}]},options:{legend:{display:!1}}}):null;return r.a.createElement(p.a,null,"Global"!==c?h:f)},F=a(295),S=a(296),_=a(294);var B=({changeCountry:e})=>{console.log(e);const t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)(()=>{!function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,k();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{style:{margin:"250px 0 10px"}},r.a.createElement(S.a,{htmlFor:"my-input"},"Select the country"),r.a.createElement(_.a,{onChange:t=>{e(t.target.value.replace("*","")),console.log("country selected is",t.target.value)}},r.a.createElement(r.a.Fragment,null,c.map((e,t)=>r.a.createElement("option",{key:t,value:e},e)),r.a.createElement("option",null,"Global")))))},G=a(37),D=a(80),I=a(123),L=a(31),T=a.n(L);var A=function({country:e}){const t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)({name:"123",color:"123"}),s=Object(m.a)(l,2),u=s[0],d=s[1];console.log("map country",e);const i=Object(D.a)().scale(160).translate([400,225]);return Object(n.useEffect)(()=>{fetch("/map/ne_110m_admin_0_countries_geojson.json").then(e=>e.json()).then(e=>{o(e.features)}),G.c("#map").attr("width",500).attr("height",500)},[]),Object(n.useEffect)(()=>{console.log("props",e),console.log("lastcountry prop",u.name),T()("path[data-countryname=".concat(u.name,"]")).attr("fill",u.color);let t={name:e,color:T()("path[data-countryname=".concat(e,"]")).attr("fill")};d(t),T()("path[data-countryname=".concat(e,"]")).attr("fill","blue")},[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"my-3",id:"countryname"}),r.a.createElement("p",{style:{color:"blue"}},"\u9078\u53d6\u4e0d\u540c\u570b\u5bb6\u5728\u5730\u5716\u4e0a\u6703\u8b8a\u85cd\u8272"),r.a.createElement("div",{id:"map"},r.a.createElement("svg",{style:{border:"1px solid gray"},width:"1000",height:"550",viewBox:"0 0 800 450"},r.a.createElement("g",{className:"countries"},c.map((e,t)=>r.a.createElement("path",{key:"path-".concat(t),d:Object(I.a)().projection(i)(e),className:"country",fill:"rgba(38,50,56,".concat(1/c.length*t,")"),stroke:"#FFFFFF",strokeWidth:.5,"data-countryname":e.properties.NAME}))))))};function H(){const e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),l=Object(m.a)(o,2),d=l[0],i=l[1],p=Object(n.useState)(),f=Object(m.a)(p,2),h=f[0],E=f[1];Object(n.useEffect)(()=>{function e(){return(e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,console.log("fetcheddata",t),c(t),i(!1);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),console.log("data_out",a)},[]);const b=function(){var e=Object(u.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handlecountrychange",t),e.next=3,O(t);case 3:a=e.sent,c(a),E(t);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App appCustom"},r.a.createElement("h2",{className:"text-uppercase my-4 text-white"},"Covid19 live info demo"),r.a.createElement("h6",{className:"text-white"},"The COVID-19 API is from",r.a.createElement("a",{className:"text-white",href:"https://covid19.mathdro.id/api"}," ","https://covid19.mathdro.id/api")),d?r.a.createElement("div",null,"Loading..."):r.a.createElement(v,{data:a,country:h}),r.a.createElement(B,{changeCountry:b}),r.a.createElement(N,{data:a,country:h}),r.a.createElement(A,{country:h}))}const U=document.getElementById("root");o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),U)}},[[155,1,2]]]);
//# sourceMappingURL=main.6bb055c7.chunk.js.map